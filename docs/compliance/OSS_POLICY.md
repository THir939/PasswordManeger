# OSS/ライセンス方針（商用リリース向け）

このプロジェクトは **商用ソフトとしてリリース** する前提です。  
そのため、依存ライブラリ（外部の部品）を追加するときに「後から使えないことが判明する」事故を避けるための方針を決めます。

## 1. そもそもライセンスとは？

ライセンスは「そのコードを使っていい条件（ルール）」です。

商用ソフトで問題になりやすい例:
- **商用利用が禁止**（Non-Commercial / NC など）
- **ソースコード公開が強く求められる**（GPL/AGPL/LGPL などの強いコピーレフト）
- **条件が分かりにくい/不明**（`SEE LICENSE IN ...` など）

## 2. 方針（ざっくり）

### 2-1. まず許可する（基本）
このプロジェクトでは、まずは以下のような「商用でも使いやすい」ライセンス（パーミッシブ）を中心に許可します。

例:
- MIT
- Apache-2.0
- BSD-2-Clause / BSD-3-Clause
- ISC
- CC0-1.0 など

※ 実際の許可リストは `scripts/check-licenses.mjs` の `allowedSpdx` を見てください。

### 2-2. 禁止する（明確に避ける）
以下は **原則禁止** にします（商用で揉めやすい/対応コストが高い）。

例:
- CC-BY-NC（非商用）
- GPL/AGPL/LGPL（ソース公開義務が強い）
- SSPL / BUSL / Elastic License / Polyform など（条件が特殊）

※ 禁止キーワードは `scripts/check-licenses.mjs` の `bannedKeywordsLower` を見てください。

## 3. 自動チェック（必ず通す）

依存を追加したり更新したら、必ず次を実行します。

```bash
npm run license:check
```

これが **NG（exit code 1）** の場合は、次のどれかが必要です。
- その依存を使わない（別ライブラリにする）
- 条件が商用OKか法務確認して、方針（許可リスト）を更新する

このチェックは GitHub Actions でも自動実行して、push時に壊れた状態が入らないようにします。

## 4. 「スクラッチで実装する」の解釈（重要）

このプロジェクトの「スクラッチ」は次の意味で扱います。
- **プロダクト固有のロジックは、自分たちのコードで書く**（UI、同期の仕様、学習ロジックなど）
- **他社製パスワードマネージャーのコードをコピペしない**

一方で、次は「スクラッチにしない」方が安全です（自作すると事故りやすい）。
- 暗号（Crypto）や認証の低レベル実装（安全性の検証が難しい）
- 決済（Stripe など）や OS 連携（Electron/ブラウザ拡張 API など）

理由: セキュリティ製品では「自作＝安全」ではなく、むしろ **検証済みの標準実装を使う方が安全** なことが多いからです。

## 5. 特許について（注意）

特許の侵害リスクは、コードだけを見て「絶対に問題ない」と断言できません。  
ここは最終的に **法律の専門家の確認** が必要です。

このプロジェクトとしての現実的な対策:
- なるべく **標準化された方式（RFC等）** に寄せる
- 既存サービス独自の特殊な仕組みを真似しない
- 実装は自分たちのコードで行い、出典が不明なコードを混ぜない

